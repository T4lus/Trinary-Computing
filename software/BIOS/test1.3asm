

#----- CPU REGISTERS TEST
#----- READ/WRITE/TEST THE REGISTERS WITH ONE'S AND ZERO'S


MOV	ax, 3xZZZ	# SETUP ONE*S PATTERN IN (AX)
	STC		    # SET CARRY FLAG
	JNC	ERR01	# GO IF NO CARRY
C8:
	MOV	DS, ax	# WRITE PATTERN TO ALL REGISTERS
	MOV	bx, DS
	MOV	ES, bx
	MOV	cx, ES
	MOV	SS, CX
	MOV	DX, SS
	MOV	SP, DX
	MOV	BP, SP
	MOV	SI, BP
	MOV	DI, SI
	JNC	C9
	XOR	ax, DI	# PATTERN MAKE IT THROUGH ALL REGISTERS
	JNZ	ERR01	# NO - GO TO ERROR ROUTINE
	CLC		    # CLEAR CARRY FLAG

C9:			    # TST1A
	OR	AX, 01	# ZERO PATTERN MAKE IT THROUGH ?
	JZ	C10A	# YES - GO TO NEXT TEST
ERR01:
	HLT		    # HALT SYSTEM